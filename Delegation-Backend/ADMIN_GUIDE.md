# 🏛️ دليل استخدام Django Admin Dashboard

## 📋 نظرة عامة

تم تكوين Django Admin Dashboard ليمنح مستخدمي `SUPER_ADMIN` سيطرة كاملة على جميع البيانات في النظام.

## 🔐 صلاحيات SUPER_ADMIN

### ✅ الصلاحيات الممنوحة:
- **عرض جميع البيانات**: الوصول الكامل لجميع الجداول والنماذج
- **إضافة البيانات**: إنشاء سجلات جديدة في أي جدول
- **تعديل البيانات**: تحديث أي بيانات موجودة
- **حذف البيانات**: حذف أي سجلات (باستثناء سجلات التدقيق)
- **إدارة المستخدمين**: إنشاء وتعديل وحذف المستخدمين
- **عرض سجلات التدقيق**: مراجعة جميع التغييرات في النظام
- **Bulk Actions**: تنفيذ عمليات جماعية على البيانات

## 🚀 كيفية الوصول

### 1. تسجيل الدخول
- اذهب إلى: `http://localhost:8000/admin/`
- استخدم بيانات مستخدم `SUPER_ADMIN`

### 2. إنشاء مستخدم SUPER_ADMIN
```bash
# تشغيل السكريبت المخصص
python create_super_admin.py

# أو استخدام ملف الباتش
create_super_admin.bat
```

## 📊 النماذج المتاحة

### 🎯 الأحداث (Events)
- **الأحداث الرئيسية**: إنشاء وإدارة الأحداث الرئيسية مثل EDEX
- **الأحداث الفرعية**: إدارة الأحداث الفرعية تحت كل حدث رئيسي

### 👥 المستخدمين (Users)
- **المستخدمين**: إدارة جميع المستخدمين والأدوار
- **جلسات الدخول**: مراقبة جلسات الدخول النشطة
- **سجلات التدقيق**: عرض جميع التغييرات في النظام

### 🌍 البيانات المرجعية (Reference Data)
- **الجنسيات**: إدارة قائمة الجنسيات المتاحة
- **المناصب العسكرية**: إدارة الرتب والمناصب العسكرية
- **المطارات**: إدارة قائمة المطارات
- **الخطوط الجوية**: إدارة الخطوط الجوية

### 🏛️ الوفود والأعضاء (Delegations & Members)
- **الوفود**: إدارة الوفود مع عرض الأعضاء inline
- **الأعضاء**: إدارة أعضاء الوفود
- **جلسات المغادرة**: تتبع جلسات المغادرة

## 🎨 الميزات المتقدمة

### 📈 عرض محسن
- **ألوان الحالة**: عرض حالات الوفود والأعضاء بألوان مميزة
- **عدادات الأعضاء**: عرض عدد الأعضاء الحالي/الأقصى مع ألوان تحذيرية
- **تصفية متقدمة**: فلاتر متعددة للبحث السريع
- **بحث ذكي**: بحث في جميع الحقول المهمة

### ⚡ عمليات جماعية
- **تحديث حالة الوفود**: تغيير حالة عدة وفود دفعة واحدة
- **تحديث حالة الأعضاء**: تغيير حالة عدة أعضاء دفعة واحدة
- **تحديث مباشر**: تعديل بعض الحقول مباشرة من قائمة العرض

### 🔗 روابط سريعة
- **العودة للتطبيق**: زر للعودة للواجهة الأمامية
- **روابط ذات صلة**: روابط سريعة بين النماذج المرتبطة

## 🛠️ الاستخدام المتقدم

### 📝 إضافة وفد جديد
1. اذهب إلى "الوفود" → "إضافة وفد"
2. اختر الحدث الفرعي والجنسية
3. حدد نوع الوفد (عسكري/مدني)
4. اضبط الحد الأقصى للأعضاء
5. أضف معلومات الوصول
6. احفظ الوفد

### 👤 إضافة أعضاء للوفد
1. افتح الوفد المطلوب
2. في قسم "الأعضاء" (Inline)
3. أضف اسم العضو والرتبة والمنصب
4. حدد المنصب المكافئ إذا لزم الأمر
5. احفظ التغييرات

### 📊 مراقبة النظام
1. **سجلات التدقيق**: تتبع جميع التغييرات
2. **جلسات الدخول**: مراقبة المستخدمين النشطين
3. **إحصائيات سريعة**: عرض عدد السجلات في كل نموذج

## 🔧 نصائح للاستخدام

### 💡 نصائح عامة
- استخدم الفلاتر للبحث السريع
- استخدم العمليات الجماعية لتوفير الوقت
- راجع سجلات التدقيق لمراقبة التغييرات
- استخدم البحث النصي للعثور على سجلات محددة

### ⚠️ تحذيرات مهمة
- **سجلات التدقيق**: لا يمكن تعديلها أو حذفها (إلا SUPER_ADMIN)
- **البيانات المرتبطة**: احذر من حذف البيانات التي لها علاقات
- **النسخ الاحتياطي**: تأكد من عمل نسخ احتياطية دورية

## 🆘 استكشاف الأخطاء

### مشاكل شائعة وحلولها:

#### ❌ لا يمكن الوصول للـ Admin
- تأكد من أن المستخدم له دور `SUPER_ADMIN`
- تأكد من أن `is_staff=True` و `is_superuser=True`
- تأكد من أن المستخدم نشط `is_active=True`

#### ❌ لا تظهر بعض النماذج
- تأكد من تسجيل النماذج في `admin.py`
- تأكد من وجود صلاحيات مناسبة

#### ❌ خطأ في الصلاحيات
- تأكد من أن المستخدم له الصلاحيات المطلوبة
- راجع إعدادات `has_*_permission` في النماذج

## 📞 الدعم

للحصول على المساعدة:
1. راجع سجلات التدقيق لمعرفة آخر التغييرات
2. تأكد من إعدادات قاعدة البيانات
3. راجع ملفات `admin.py` للتأكد من التكوين

---

**ملاحظة**: هذا الدليل مصمم لمستخدمي `SUPER_ADMIN` الذين لديهم سيطرة كاملة على النظام.
